<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate Means for a Term in a Multivariate Linear Model — termMeans â€¢ heplots</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">heplots</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate Means for a Term in a Multivariate Linear Model</h1>
    </div>

    
    <p><code>termMeans</code> is a utility function designed to calculate 
means for the levels of factor(s) for any term
in a multivariate linear model.</p>
    

    <pre class="usage"><span class='fu'>termMeans</span>(<span class='no'>mod</span>, <span class='no'>term</span>, <span class='kw'>label.factors</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>abbrev.levels</span><span class='kw'>=</span><span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mod</th>
      <td><p>An mlm model object</p></td>
    </tr>
    <tr>
      <th>term</th>
      <td><p>A character string indicating a given term in the model.
All factors in the term must be included in the model, even if they are in the
model data frame.</p></td>
    </tr>
    <tr>
      <th>label.factors</th>
      <td><p>If true, the rownames for each row in the result include
the name(s) of the factor(s) involved, followed by the
level values. Otherwise, the rownames include only the levels
of the factor(s), with multiple factors separated by ':'</p></td>
    </tr>
    <tr>
      <th>abbrev.levels</th>
      <td><p>Either a logical or an integer, specifying whether the levels values
of the factors in the <code>term</code> are to be abbreviated in
constructing the rownames.  An integer specifies the minimum length
of the abbreviation for each factor in the term.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a matrix whose columns correspond to the response variables
in the model and whose rows correspond to the levels of the factor(s)
in the <code>term</code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='http://www.rdocumentation.org/packages/stats/topics/aggregate'>aggregate</a></code>, <code><a href='http://www.rdocumentation.org/packages/base/topics/colSums'>colMeans</a></code>
    <code><a href='statList.html'>statList</a></code>, <code><a href='statList.html'>colMeansList</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>factors</span> <span class='kw'>&lt;-</span> <span class='fu'>expand.grid</span>(<span class='kw'>A</span><span class='kw'>=</span><span class='fu'>factor</span>(<span class='fl'>1</span>:<span class='fl'>3</span>),<span class='kw'>B</span><span class='kw'>=</span><span class='fu'>factor</span>(<span class='fl'>1</span>:<span class='fl'>2</span>),<span class='kw'>C</span><span class='kw'>=</span><span class='fu'>factor</span>(<span class='fl'>1</span>:<span class='fl'>2</span>))
<span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fu'>nrow</span>(<span class='no'>factors</span>)
<span class='no'>responses</span> <span class='kw'>&lt;-</span><span class='fu'>data.frame</span>(<span class='kw'>Y1</span><span class='kw'>=</span><span class='fl'>10</span>+<span class='fu'>round</span>(<span class='fl'>10</span>*<span class='fu'>rnorm</span>(<span class='no'>n</span>)),<span class='kw'>Y2</span><span class='kw'>=</span><span class='fl'>10</span>+<span class='fu'>round</span>(<span class='fl'>10</span>*<span class='fu'>rnorm</span>(<span class='no'>n</span>)))
<span class='no'>test</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='no'>factors</span>, <span class='no'>responses</span>)
<span class='no'>mod</span> <span class='kw'>&lt;-</span> <span class='fu'>lm</span>(<span class='fu'>cbind</span>(<span class='no'>Y1</span>,<span class='no'>Y2</span>) ~ <span class='no'>A</span>*<span class='no'>B</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>test</span>)

<span class='fu'>termMeans</span>(<span class='no'>mod</span>, <span class='st'>"A"</span>)</div><div class='output co'>#&gt;      Y1    Y2
#&gt; 1 17.00 12.25
#&gt; 2  9.50 10.75
#&gt; 3 13.75  2.00</div><div class='input'><span class='fu'>termMeans</span>(<span class='no'>mod</span>, <span class='st'>"A:B"</span>)</div><div class='output co'>#&gt;       Y1   Y2
#&gt; 1:1 10.0 10.0
#&gt; 2:1  3.0 19.5
#&gt; 3:1 17.5  6.0
#&gt; 1:2 24.0 14.5
#&gt; 2:2 16.0  2.0
#&gt; 3:2 10.0 -2.0</div><div class='input'><span class='fu'>termMeans</span>(<span class='no'>mod</span>, <span class='st'>"A:B"</span>, <span class='kw'>label.factors</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;         Y1   Y2
#&gt; A1:B1 10.0 10.0
#&gt; A2:B1  3.0 19.5
#&gt; A3:B1 17.5  6.0
#&gt; A1:B2 24.0 14.5
#&gt; A2:B2 16.0  2.0
#&gt; A3:B2 10.0 -2.0</div><span class='co'># NOT RUN {</span>
<span class='fu'>termMeans</span>(<span class='no'>mod</span>, <span class='st'>"A:B:C"</span>)    <span class='co'># generates an error</span>
<span class='co'># }</span><div class='input'>
<span class='no'>plastic.mod</span> <span class='kw'>&lt;-</span> <span class='fu'>lm</span>(<span class='fu'>cbind</span>(<span class='no'>tear</span>, <span class='no'>gloss</span>, <span class='no'>opacity</span>) ~ <span class='no'>rate</span>*<span class='no'>additive</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>Plastic</span>)
<span class='no'>colors</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"red"</span>, <span class='st'>"darkblue"</span>, <span class='st'>"darkgreen"</span>, <span class='st'>"brown"</span>)
<span class='fu'><a href='heplot.html'>heplot</a></span>(<span class='no'>plastic.mod</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='no'>colors</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>1.25</span>)</div><div class='input'><span class='co'># add means for interaction term</span>
<span class='no'>intMeans</span> <span class='kw'>&lt;-</span> <span class='fu'>termMeans</span>(<span class='no'>plastic.mod</span>, <span class='st'>'rate:additive'</span>, <span class='kw'>abbrev</span><span class='kw'>=</span><span class='fl'>2</span>)
<span class='fu'>points</span>(<span class='no'>intMeans</span>[,<span class='fl'>1</span>], <span class='no'>intMeans</span>[,<span class='fl'>2</span>], <span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>18</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>1.2</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"brown"</span>)</div><div class='input'><span class='fu'>text</span>(<span class='no'>intMeans</span>[,<span class='fl'>1</span>], <span class='no'>intMeans</span>[,<span class='fl'>2</span>], <span class='fu'>rownames</span>(<span class='no'>intMeans</span>), <span class='kw'>adj</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>0.5</span>,<span class='fl'>1</span>), <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"brown"</span>)</div><div class='img'><img src='termMeans-2.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Michael Friendly

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by John Fox, Michael Friendly.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
